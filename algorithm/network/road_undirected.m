% 用邻接矩阵构建图
a=zeros(11,11);
a(1,2)=2;a(1,3)=8;a(1,4)=1;
a(2,3)=1;a(2,3)=6;a(2,5)=1;
a(3,4)=7;a(3,5)=5;a(3,6)=1;a(3,7)=2;
a(4,7)=9;a(5,6)=3;a(5,8)=2;a(5,9)=9;
a(6,7)=4;a(6,9)=6;a(7,9)=3;a(7,10)=1;
a(8,9)=7;a(8,11)=9; 
a(9,10)=1;a(9,11)=2;a(10,11)=4;
G=graph(a,'Upper'); % 只读取邻接矩阵的上三角部分的数值来构建图（因为前面值给上三角部分赋值了）
[p,d]=shortestpath(G,1,11); %求最短路径和最短距离
h=plot(G,'EdgeLabel',G.Edges.Weight);  %画无向图

D=distances(G,'Method','positive'); % 计算所有点之间的最短路径，返回n*n矩阵